# Ch9 

## 9.1 (P.192)

### Q1 定義變異體死亡率 (mutation score)

基於已知有效輸入值為基礎，再添加一系列操作產生差異的輸入值版本，稱為變異體。當藉由輸入變異體得出與原輸出產生不一致結果時，表示錯誤被傳導出來，又稱情形"變異體已被殺死"。故變異體死亡率，則為假設輸入變異體總數量 M，與實際變異體被殺死量m， m/M x 100% 稱之。

<br>

---

### Q2 變異體死亡率的重要性
第五章中提及測試覆蓋標準的不可達性(infeasibility)與涵蓋(subsumption)問題。
- 不可達性(infeasibility): 由於某些測試覆蓋需求為不可能實現，變異體死亡率可反映該可達性的程度，越高表示可達性越高。
- 涵蓋(subsumption): 兩覆蓋標準 C1、C2，要使 C1 能涵蓋 C2，則滿足 C1 的測試集須"完全可達"，對此來看，變異體死亡率應為100%。
                
<br>

---

###  Q4 評估下方的 BNF

```javascript
    A ::= O B | O M | O B M
    O ::= "w" | "x" | "s" | "m"
    B ::= "i" | "f" | "c" | "r"
    M ::= "o" | "t" | "p" | "a" | "h"
```

- a 非終結符數量，即 ::= 左側: A、O、B、M，共 4 個
- b 終結符數量，即 "" 標記的個數: "w"、"x"、"s"、"m"、"i"、"f"、"c"、"r"、"o"、"t"、"p"、"a"、"h"，共 13 個。

- c    
    - A  ::= OB | OM | OBM
    - OB  : 4 x 4 = 16
    - OM  : 4 x 5 = 20
    - OBM : 4 x 4 x 5 = 80
    - 共 16 + 20 + 80 = 116 種

- d : 給出有效變異體，
    - OB: wi -> wf、xi 
    - OM: wo -> wt、xo 
    - OBM: wio -> wit、wfo

- e : 給出無效變異體
    - OB: wi -> wo、wt
    - OM: wo -> wi、wf 
    - OBM: wio -> tio、fio


<br>

---

## 9.2 (P.203)

### Q1 提供可達性條件、感染條件、傳播條件、測試用例

- 變異體 2: if (B > A)
    - 可達性條件: 真，當 A > B 時。
    - 感染條件: 當 A > B 時，影響 minVal 沒有被設置為 B。
    - 傳導條件: 當 A > B 時，能將錯誤的 minVal 傳導出來。
    - 測試用例值: (2,1)、(3,1) 
- 變異體 4: Bomb()，立刻回拋出錯誤，中斷程式執行。
    - 可達性條件: 真，當 A > B 時。
    - 感染條件: 當 A > B 時，立即拋出錯誤，影響返回結果。
    - 傳導條件: 當 A > B 時，立即拋出錯誤，將錯誤傳導出來。
    - 測試用例值: (2,1)、(3、1)
- 變異體 5: minVal = A
    - 可達性條件: 真，當 A > B 時。
    - 感染條件: 當 A > B 時，影響 minVal 被設置為 A。
    - 傳導條件: 當 A > B 時，將錯誤的 minVal 傳導出來。
    - 測試用例值: (2,1)、(3,1)
- 變異體 6: minVal = failOnZero(B);
    - 可達性條件: 真，當 A > B 時。
    - 感染條件: 當 A > B 且 B 為 0 時，立刻拋出錯誤，影響返回結果。
    - 傳導條件: 當 A > B 且 B 為 0 時，立刻拋出錯誤，將錯誤傳導出來。
    - 測試用例值: (1,0)、(2,0)

<br>

---

### Q3 回答 sum() 方法中第 6 行突變體的問題 (a) 到 (d)

```java
/**
* Sum values in an array
*
* @param x array to sum
*
* @return sum of values in x
* @throws NullPointerException if x is null
*/
1. public static int sum(int[] x)
2. {
3.    int s = 0;
4.    for (int i=0; i < x.length; i++) }
5.    {
6.       s = s + x[i];
6’.   // s = s - x[i]; // AOR
7.    }
8.    return s;
9. }

```

- a 找到未到達突變體的測試輸入
    - 當 x.length == 0 時，不會進入迴圈，不會觸發變異體。
    - 測試案例為: []
- b 如果可能，找到滿足可達性但不滿足突變體感染的測試輸入
    - 不可能，進到迴圈中，必定觸發變異體，會感染狀態。
    - 無測試案例。
- c 找到滿足可達性和感染性的測試輸入，但不滿足突變體的傳播。
    - 當 x.length > 0 時，會進入迴圈，觸發變異體，狀態發生感染
    - 當 x 中所有的元素皆為 0 時，因為無論加減都不會影響結果。
    - 測試案例為: [0, 0, 0]
- d 找到滿足強殺突變體的測試輸入
    - 當 x.length > 0 時，會進入迴圈，觸發變異體，狀態發生感染
    - 當 x 中至少存在 1 個非0的數值時，錯誤就會被傳導出來。
    - 測試案例為: [1]、[-1]、[0,0,1]

<br>

---